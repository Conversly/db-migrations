{
  "id": "00f2a2d0-5c41-42b8-857f-0ad8235ff9f0",
  "prevId": "f26656ef-7873-442c-a3f7-fbda745e7ce3",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.action_templates": {
      "name": "action_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "icon_url": {
          "name": "icon_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template_config": {
          "name": "template_config",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "required_fields": {
          "name": "required_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "action_templates_category_idx": {
          "name": "action_templates_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "action_templates_usage_idx": {
          "name": "action_templates_usage_idx",
          "columns": [
            {
              "expression": "usage_count",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "action_templates_name_unique": {
          "name": "action_templates_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.analytics": {
      "name": "analytics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "responses": {
          "name": "responses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "likes": {
          "name": "likes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "dislikes": {
          "name": "dislikes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6) with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (6) with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "analytics_chatbot_id_fkey": {
          "name": "analytics_chatbot_id_fkey",
          "tableFrom": "analytics",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_chatbot_id": {
          "name": "unique_chatbot_id",
          "nullsNotDistinct": false,
          "columns": [
            "chatbot_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.analytics_per_day": {
      "name": "analytics_per_day",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_DATE"
        },
        "user_messages": {
          "name": "user_messages",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "ai_responses": {
          "name": "ai_responses",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "agent_responses": {
          "name": "agent_responses",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "like_count": {
          "name": "like_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "dislike_count": {
          "name": "dislike_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "feedback_count": {
          "name": "feedback_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unique_widget_conversations": {
          "name": "unique_widget_conversations",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unique_whatsapp_conversations": {
          "name": "unique_whatsapp_conversations",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unique_contacts": {
          "name": "unique_contacts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unique_topic_ids": {
          "name": "unique_topic_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "analytics_per_day_chatbot_date_unique": {
          "name": "analytics_per_day_chatbot_date_unique",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analytics_per_day_chatbot_date_idx": {
          "name": "analytics_per_day_chatbot_date_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "analytics_per_day_chatbot_id_chatbot_id_fk": {
          "name": "analytics_per_day_chatbot_id_chatbot_id_fk",
          "tableFrom": "analytics_per_day",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.auth_method": {
      "name": "auth_method",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "(now() AT TIME ZONE 'UTC'::text)"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "(now() AT TIME ZONE 'UTC'::text)"
        },
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "google_sub": {
          "name": "google_sub",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "google_email": {
          "name": "google_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "AuthProvider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "auth_method_google_email_key": {
          "name": "auth_method_google_email_key",
          "columns": [
            {
              "expression": "google_email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auth_method_google_sub_key": {
          "name": "auth_method_google_sub_key",
          "columns": [
            {
              "expression": "google_sub",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auth_method_provider_idx": {
          "name": "auth_method_provider_idx",
          "columns": [
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auth_method_user_id_key": {
          "name": "auth_method_user_id_key",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "auth_method_user_id_fkey": {
          "name": "auth_method_user_id_fkey",
          "tableFrom": "auth_method",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chatbot": {
      "name": "chatbot",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "primary_color": {
          "name": "primary_color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": true,
          "default": "'#007bff'"
        },
        "topics": {
          "name": "topics",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "status": {
          "name": "status",
          "type": "ChatbotStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'INACTIVE'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6) with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (6) with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "api_key": {
          "name": "api_key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "chatbot_user_id_idx": {
          "name": "chatbot_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chatbot_user_id_fkey": {
          "name": "chatbot_user_id_fkey",
          "tableFrom": "chatbot",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chatbot_topic_stats": {
      "name": "chatbot_topic_stats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "like_count": {
          "name": "like_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "dislike_count": {
          "name": "dislike_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_DATE"
        }
      },
      "indexes": {
        "chatbot_topic_stats_chatbot_date_idx": {
          "name": "chatbot_topic_stats_chatbot_date_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "chatbot_topic_stats_chatbot_topic_date_idx": {
          "name": "chatbot_topic_stats_chatbot_topic_date_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "topic_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chatbot_topic_stats_chatbot_id_chatbot_id_fk": {
          "name": "chatbot_topic_stats_chatbot_id_chatbot_id_fk",
          "tableFrom": "chatbot_topic_stats",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "chatbot_topic_stats_topic_id_chatbot_topics_id_fk": {
          "name": "chatbot_topic_stats_topic_id_chatbot_topics_id_fk",
          "tableFrom": "chatbot_topic_stats",
          "tableTo": "chatbot_topics",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "chatbot_topic_date_unique": {
          "name": "chatbot_topic_date_unique",
          "nullsNotDistinct": false,
          "columns": [
            "chatbot_id",
            "topic_id",
            "date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chatbot_topics": {
      "name": "chatbot_topics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "color": {
          "name": "color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false,
          "default": "'#888888'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "chatbot_topics_chatbot_id_idx": {
          "name": "chatbot_topics_chatbot_id_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chatbot_topics_chatbot_id_fkey": {
          "name": "chatbot_topics_chatbot_id_fkey",
          "tableFrom": "chatbot_topics",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.citation": {
      "name": "citation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "analytics_id": {
          "name": "analytics_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "count": {
          "name": "count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "citation_chatbot_source_unq": {
          "name": "citation_chatbot_source_unq",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "citation_analytics_id_fkey": {
          "name": "citation_analytics_id_fkey",
          "tableFrom": "citation",
          "tableTo": "analytics",
          "columnsFrom": [
            "analytics_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "citation_chatbot_id_fkey": {
          "name": "citation_chatbot_id_fkey",
          "tableFrom": "citation",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.custom_actions": {
      "name": "custom_actions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "api_config": {
          "name": "api_config",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "tool_schema": {
          "name": "tool_schema",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_tested_at": {
          "name": "last_tested_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false
        },
        "test_status": {
          "name": "test_status",
          "type": "TestStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'not_tested'"
        },
        "test_result": {
          "name": "test_result",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "custom_actions_chatbot_enabled_idx": {
          "name": "custom_actions_chatbot_enabled_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"custom_actions\".\"is_enabled\" = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "custom_actions_chatbot_name_idx": {
          "name": "custom_actions_chatbot_name_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "custom_actions_updated_idx": {
          "name": "custom_actions_updated_idx",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "custom_actions_chatbot_id_fkey": {
          "name": "custom_actions_chatbot_id_fkey",
          "tableFrom": "custom_actions",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "custom_actions_created_by_fkey": {
          "name": "custom_actions_created_by_fkey",
          "tableFrom": "custom_actions",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_action_per_chatbot": {
          "name": "unique_action_per_chatbot",
          "nullsNotDistinct": false,
          "columns": [
            "chatbot_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.data_source": {
      "name": "data_source",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "DataSourceType",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "source_details": {
          "name": "source_details",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6) with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (6) with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "DataSourceStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'QUEUEING'"
        },
        "citation": {
          "name": "citation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_datasource_citation": {
          "name": "idx_datasource_citation",
          "columns": [
            {
              "expression": "citation",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "data_source_chatbot_id_fkey": {
          "name": "data_source_chatbot_id_fkey",
          "tableFrom": "data_source",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.embeddings": {
      "name": "embeddings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "text": {
          "name": "text",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "vector": {
          "name": "vector",
          "type": "real[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6) with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (6) with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "data_source_id": {
          "name": "data_source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "citation": {
          "name": "citation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_embeddings_citation": {
          "name": "idx_embeddings_citation",
          "columns": [
            {
              "expression": "citation",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "embeddings_chatbot_id_idx": {
          "name": "embeddings_chatbot_id_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "embeddings_user_id_fkey": {
          "name": "embeddings_user_id_fkey",
          "tableFrom": "embeddings",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "embeddings_chatbot_id_fkey": {
          "name": "embeddings_chatbot_id_fkey",
          "tableFrom": "embeddings",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "embeddings_data_source_id_fkey": {
          "name": "embeddings_data_source_id_fkey",
          "tableFrom": "embeddings",
          "tableTo": "data_source",
          "columnsFrom": [
            "data_source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "unique_conv_id": {
          "name": "unique_conv_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "MessageChannel",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'WIDGET'"
        },
        "type": {
          "name": "type",
          "type": "MessageType",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "citations": {
          "name": "citations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "feedback": {
          "name": "feedback",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "feedback_comment": {
          "name": "feedback_comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "channel_message_metadata": {
          "name": "channel_message_metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6) with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "topic_id": {
          "name": "topic_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "messages_unique_conv_id_created_idx": {
          "name": "messages_unique_conv_id_created_idx",
          "columns": [
            {
              "expression": "unique_conv_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_chatbot_id_created_idx": {
          "name": "messages_chatbot_id_created_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_chatbot_channel_idx": {
          "name": "messages_chatbot_channel_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "channel",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_chatbot_feedback_idx": {
          "name": "messages_chatbot_feedback_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "feedback",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "messages_chatbot_id_chatbot_id_fk": {
          "name": "messages_chatbot_id_chatbot_id_fk",
          "tableFrom": "messages",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "messages_topic_id_chatbot_topics_id_fk": {
          "name": "messages_topic_id_chatbot_topics_id_fk",
          "tableFrom": "messages",
          "tableTo": "chatbot_topics",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.origin_domains": {
      "name": "origin_domains",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "api_key": {
          "name": "api_key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "origin_domains_chatbot_id_domain_unique": {
          "name": "origin_domains_chatbot_id_domain_unique",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "domain",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "origin_domains_api_key_idx": {
          "name": "origin_domains_api_key_idx",
          "columns": [
            {
              "expression": "api_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "origin_domains_chatbot_id_idx": {
          "name": "origin_domains_chatbot_id_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "origin_domains_chatbot_id_fkey": {
          "name": "origin_domains_chatbot_id_fkey",
          "tableFrom": "origin_domains",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "origin_domains_user_id_fkey": {
          "name": "origin_domains_user_id_fkey",
          "tableFrom": "origin_domains",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscribed_users": {
      "name": "subscribed_users",
      "schema": "",
      "columns": {
        "subscription_id": {
          "name": "subscription_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plan_id": {
          "name": "plan_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "auto_renew": {
          "name": "auto_renew",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "subscribed_users_user_id_idx": {
          "name": "subscribed_users_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subscribed_users_user_id_fkey": {
          "name": "subscribed_users_user_id_fkey",
          "tableFrom": "subscribed_users",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "subscribed_users_plan_id_fkey": {
          "name": "subscribed_users_plan_id_fkey",
          "tableFrom": "subscribed_users",
          "tableTo": "subscription_plans",
          "columnsFrom": [
            "plan_id"
          ],
          "columnsTo": [
            "plan_id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscription_plans": {
      "name": "subscription_plans",
      "schema": "",
      "columns": {
        "plan_id": {
          "name": "plan_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "plan_name": {
          "name": "plan_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "duration_in_days": {
          "name": "duration_in_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "price_monthly": {
          "name": "price_monthly",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "price_annually": {
          "name": "price_annually",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "(now() AT TIME ZONE 'UTC'::text)"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "(now() AT TIME ZONE 'UTC'::text)"
        },
        "is2fa_auth_enabled": {
          "name": "is2fa_auth_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_banned": {
          "name": "is_banned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_email_verified": {
          "name": "is_email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "verification_token": {
          "name": "verification_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.whatsapp_analytics_per_day": {
      "name": "whatsapp_analytics_per_day",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_DATE"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "whatsapp_analytics_per_day_chatbot_id_chatbot_id_fk": {
          "name": "whatsapp_analytics_per_day_chatbot_id_chatbot_id_fk",
          "tableFrom": "whatsapp_analytics_per_day",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.whatsapp_accounts": {
      "name": "whatsapp_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone_number": {
          "name": "phone_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "waba_id": {
          "name": "waba_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "phone_number_id": {
          "name": "phone_number_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "verified_name": {
          "name": "verified_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "WhatsappAccountStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "whatsapp_business_id": {
          "name": "whatsapp_business_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "webhook_url": {
          "name": "webhook_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verify_token": {
          "name": "verify_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "whatsapp_accounts_chatbot_id_idx": {
          "name": "whatsapp_accounts_chatbot_id_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "whatsapp_accounts_phone_number_idx": {
          "name": "whatsapp_accounts_phone_number_idx",
          "columns": [
            {
              "expression": "phone_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "whatsapp_accounts_chatbot_id_chatbot_id_fk": {
          "name": "whatsapp_accounts_chatbot_id_chatbot_id_fk",
          "tableFrom": "whatsapp_accounts",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "whatsapp_accounts_phone_number_unique": {
          "name": "whatsapp_accounts_phone_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "phone_number"
          ]
        },
        "whatsapp_accounts_chatbot_id_unique": {
          "name": "whatsapp_accounts_chatbot_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "chatbot_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.whatsapp_contacts": {
      "name": "whatsapp_contacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone_number": {
          "name": "phone_number",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "whatsapp_user_metadata": {
          "name": "whatsapp_user_metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (6)",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "whatsapp_contacts_chatbot_id_phone_number_unique": {
          "name": "whatsapp_contacts_chatbot_id_phone_number_unique",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "phone_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "whatsapp_contacts_chatbot_id_idx": {
          "name": "whatsapp_contacts_chatbot_id_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "whatsapp_contacts_chatbot_id_chatbot_id_fk": {
          "name": "whatsapp_contacts_chatbot_id_chatbot_id_fk",
          "tableFrom": "whatsapp_contacts",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.widget_config": {
      "name": "widget_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "chatbot_id": {
          "name": "chatbot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "styles": {
          "name": "styles",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "only_allow_on_added_domains": {
          "name": "only_allow_on_added_domains",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "initial_message": {
          "name": "initial_message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "suggested_messages": {
          "name": "suggested_messages",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "allowed_domains": {
          "name": "allowed_domains",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (6) with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (6) with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "widget_config_chatbot_id_idx": {
          "name": "widget_config_chatbot_id_idx",
          "columns": [
            {
              "expression": "chatbot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "widget_config_chatbot_id_chatbot_id_fk": {
          "name": "widget_config_chatbot_id_chatbot_id_fk",
          "tableFrom": "widget_config",
          "tableTo": "chatbot",
          "columnsFrom": [
            "chatbot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "widget_config_chatbot_id_unique": {
          "name": "widget_config_chatbot_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "chatbot_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.Align": {
      "name": "Align",
      "schema": "public",
      "values": [
        "left",
        "right"
      ]
    },
    "public.ApiMethod": {
      "name": "ApiMethod",
      "schema": "public",
      "values": [
        "GET",
        "POST",
        "PUT",
        "DELETE",
        "PATCH"
      ]
    },
    "public.AuthProvider": {
      "name": "AuthProvider",
      "schema": "public",
      "values": [
        "PHANTOM_WALLET",
        "GOOGLE_OAUTH",
        "EMAIL",
        "EMAIL_PASSWORD"
      ]
    },
    "public.ChatbotStatus": {
      "name": "ChatbotStatus",
      "schema": "public",
      "values": [
        "DRAFT",
        "TRAINING",
        "ACTIVE",
        "INACTIVE"
      ]
    },
    "public.DataSourceStatus": {
      "name": "DataSourceStatus",
      "schema": "public",
      "values": [
        "DRAFT",
        "QUEUEING",
        "PROCESSING",
        "COMPLETED",
        "FAILED"
      ]
    },
    "public.DataSourceType": {
      "name": "DataSourceType",
      "schema": "public",
      "values": [
        "PDF",
        "URL",
        "TXT",
        "DOCX",
        "HTML",
        "MD",
        "CSV",
        "QNA",
        "DOCUMENT"
      ]
    },
    "public.DisplayStyle": {
      "name": "DisplayStyle",
      "schema": "public",
      "values": [
        "corner",
        "overlay"
      ]
    },
    "public.MessageChannel": {
      "name": "MessageChannel",
      "schema": "public",
      "values": [
        "WIDGET",
        "WHATSAPP"
      ]
    },
    "public.MessageType": {
      "name": "MessageType",
      "schema": "public",
      "values": [
        "user",
        "assistant",
        "agent"
      ]
    },
    "public.TestStatus": {
      "name": "TestStatus",
      "schema": "public",
      "values": [
        "passed",
        "failed",
        "not_tested"
      ]
    },
    "public.Theme": {
      "name": "Theme",
      "schema": "public",
      "values": [
        "light",
        "dark"
      ]
    },
    "public.WhatsappAccountStatus": {
      "name": "WhatsappAccountStatus",
      "schema": "public",
      "values": [
        "active",
        "inactive"
      ]
    },
    "public.WhatsappConversationStatus": {
      "name": "WhatsappConversationStatus",
      "schema": "public",
      "values": [
        "open",
        "closed",
        "pending",
        "escalated"
      ]
    },
    "public.WhatsappMessageStatus": {
      "name": "WhatsappMessageStatus",
      "schema": "public",
      "values": [
        "sent",
        "delivered",
        "read",
        "failed"
      ]
    },
    "public.WhatsappMessageType": {
      "name": "WhatsappMessageType",
      "schema": "public",
      "values": [
        "text",
        "image",
        "video",
        "document",
        "template"
      ]
    },
    "public.WhatsappSenderType": {
      "name": "WhatsappSenderType",
      "schema": "public",
      "values": [
        "user",
        "ai",
        "agent",
        "system"
      ]
    },
    "public.WhatsappSource": {
      "name": "WhatsappSource",
      "schema": "public",
      "values": [
        "organic",
        "imported",
        "campaign",
        "api"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}